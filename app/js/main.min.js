$((function(){$(".header-slider").slick({infinite:!0,fade:!0,asNavFor:".slider-dots",prevArrow:'<div class="arrow arrow-left"><img class="slider-arrows slider-arrows__left" src="images/icons/arrow-left.svg" alt=""></img></div>',nextArrow:'<div class="arrow arrow-right"><img class="slider-arrows slider-arrows__right" src="images/icons/arrow-right.svg" alt=""></img></div>'}),$(".slider-dots").slick({slidesToShow:4,slidesToScroll:4,asNavFor:".header-slider",focusOnSelect:!0});let e=document.querySelectorAll(".header-slider__item");$(".header-slider").on("beforeChange",(function(a,t,s,n){let i=0;s<n?i=s+1:s>n&&(i=s-1);let r=e[i],o=r.querySelector(".header-slider__item-title"),l=r.querySelector(".header-slider__item-text"),d=r.querySelector(".header-btn");r&&(o.classList.add("animate__animated"),o.classList.add("animate__slideInDown"),l.classList.add("animate__animated"),l.classList.add("animate__fadeInUp"),l.classList.add("animate__delay-1s"),d.classList.add("animate__animated"),d.classList.add("animate__fadeInUp"),d.classList.add("animate__delay-1s"),o.addEventListener("animationend",()=>{o.classList.remove("animate__animated"),o.classList.remove("animate__slideInDown")}),l.addEventListener("animationend",()=>{l.classList.remove("animate__animated"),l.classList.remove("animate__fadeInUp"),l.classList.remove("animate__delay-1s")}),d.addEventListener("animationend",()=>{d.classList.remove("animate__animated"),d.classList.remove("animate__fadeInUp"),d.classList.remove("animate__delay-1s")}))})),$(".project__slider").slick({slidesToShow:5,slidesToScroll:3,arrows:!1,dots:!0}),$(".fancybox-media").fancybox({openEffect:"none",closeEffect:"none",helpers:{media:{}}})}));let isScrolling=!1,firstBox=document.querySelector(".contacts"),mapItem1=firstBox.querySelector(".contacts__map-item--1").querySelector(".contacts__map-marker"),mapItem2=firstBox.querySelector(".contacts__map-item--2").querySelector(".contacts__map-marker"),mapItem3=firstBox.querySelector(".contacts__map-item--3").querySelector(".contacts__map-marker"),mapItem4=firstBox.querySelector(".contacts__map-item--4").querySelector(".contacts__map-marker"),mapItem5=firstBox.querySelector(".contacts__map-item--5").querySelector(".contacts__map-marker"),contactForm=firstBox.querySelector(".contact-form"),aboutUs=document.querySelector(".about-us"),aboutUs1=aboutUs.querySelector(".about-us__images--1"),aboutUs2=aboutUs.querySelector(".about-us__images--2"),workStep=document.querySelector(".work-step"),workStepTitle=workStep.querySelector(".work-step__title"),workStepInner=workStep.querySelector(".work-step__inner"),offers=document.querySelector(".offers"),offersTitle=offers.querySelector(".offers__title"),offersText=offers.querySelector(".offers__text"),offersList=offers.querySelector(".offers__list"),advantages=document.querySelector(".advantages"),advantagesItem1=advantages.querySelector(".advantages__list-item--1"),advantagesItem2=advantages.querySelector(".advantages__list-item--2"),advantagesItem3=advantages.querySelector(".advantages__list-item--3"),advantagesItem4=advantages.querySelector(".advantages__list-item--4");function throttleScroll(e){0==isScrolling&&window.requestAnimationFrame((function(){scrolling(e),isScrolling=!1})),isScrolling=!0}function isPartiallyVisible(e,a){let t=e.getBoundingClientRect(),s=t.top-a,n=t.bottom,i=t.height-a;return s+i>=0&&i+window.innerHeight>=n}function addClasses(e,a){return a.forEach(a=>{e.classList.add(""+a)}),e}function scrolling(e){isPartiallyVisible(firstBox,200)&&(addClasses(mapItem1,["animate__animated","animate__fadeIn","animate__delay-1s","animate__slow"]),addClasses(mapItem2,["animate__animated","animate__fadeIn","animate__delay-2s","animate__slow"]),addClasses(mapItem3,["animate__animated","animate__fadeIn","animate__delay-3s","animate__slow"]),addClasses(mapItem4,["animate__animated","animate__fadeIn","animate__delay-4s","animate__slow"]),addClasses(mapItem5,["animate__animated","animate__fadeIn","animate__delay-5s","animate__slow"]),addClasses(contactForm,["animate__animated","animate__bounceInRight","animate__delay-3s"])),isPartiallyVisible(aboutUs,50)&&(addClasses(aboutUs1,["animate__animated","animate__fadeInUp"]),addClasses(aboutUs2,["animate__animated","animate__fadeInRight","animate__delay-1s"])),isPartiallyVisible(workStep,80)&&(addClasses(workStepTitle,["animate__animated","animate__fadeInLeft"]),addClasses(workStepInner,["animate__animated","animate__bounceInUp","animate__delay-1s"])),isPartiallyVisible(offers,80)&&(addClasses(offersTitle,["animate__animated","animate__fadeInLeft"]),addClasses(offersText,["animate__animated","animate__fadeInLeft"]),addClasses(offersList,["animate__animated","animate__bounceInUp","animate__delay-1s"])),isPartiallyVisible(advantages,0)&&(addClasses(advantagesItem1,["animate__animated","animate__fadeInLeftBig","animate__delay-3s"]),addClasses(advantagesItem2,["animate__animated","animate__fadeInLeftBig","animate__delay-2s"]),addClasses(advantagesItem3,["animate__animated","animate__fadeInLeftBig","animate__delay-1s"]),addClasses(advantagesItem4,["animate__animated","animate__fadeInLeftBig"]))}window.addEventListener("scroll",throttleScroll,!1),document.addEventListener("DOMContentLoaded",scrolling,!1);const calc=(e=100)=>{const a=document.querySelector(".price"),t=a.querySelector(".price__box"),s=a.querySelector(".prise__select"),n=a.querySelector(".price-square"),i=a.querySelector(".price-day"),r=a.querySelector(".price-count"),o=document.getElementById("total");t.addEventListener("input",e=>{const a=e.target;"INPUT"===a.tagName&&(a.value=a.value.replace(/[^\+?0-9\.]/g,""))});t.addEventListener("change",a=>{const t=a.target;(t.matches("select")||t.matches("input"))&&(()=>{let a=0,t=1,l=1;const d=s.options[s.selectedIndex].value,c=+n.value;r.value>1&&(t+=(r.value-1)/10),i.value&&i.value<5?l*=2:i.value&&i.value<10&&(l*=1.5),d&&c&&(a=parseInt(e*d*c*t*l));const m=()=>{const e=+a,t=+o.textContent;let s=20;e>5e3&&e<3e4?s=50:e>=3e4&&e<1e5?s=200:e>=1e5&&(s=4e3),t<e?(o.textContent=t+s,setTimeout(m,1)):t>e+50?(o.textContent=t-s,setTimeout(m,1)):o.textContent=a};m()})()})};calc(100);const getSmoothScroll=()=>{const e=document.querySelector(".menu").querySelector("ul").querySelectorAll("a"),a=document.querySelector(".header__arrows-btn"),t=e=>{e.addEventListener("click",(function(a){a.preventDefault();const t=e.getAttribute("href");document.querySelector(""+t).scrollIntoView({behavior:"smooth",block:"start"})}))};e.forEach(e=>{t(e)}),t(a)};getSmoothScroll();const togglePopup=()=>{const e=document.querySelector(".popup"),a=document.querySelectorAll(".offers-item__link"),t=document.querySelector(".popup-close");a.forEach(a=>{a.addEventListener("click",a=>{a.preventDefault(),e.style.display="block"})}),t.addEventListener("click",()=>{e.style.display="none"}),e.addEventListener("click",a=>{let t=a.target;t.classList.contains("popup-close")?e.style.display="none":(t=t.closest(".popup-content"),t||(e.style.display="none"))})};togglePopup();let headerBurger=document.querySelector(".header__burger"),menuList=document.querySelector(".menu__list");headerBurger.addEventListener("click",()=>{headerBurger.classList.toggle("header__burger--active"),menuList.classList.toggle("menu__list--open")});