document.addEventListener("DOMContentLoaded",()=>{$((function(){$(".header-slider").slick({infinite:!0,fade:!0,asNavFor:".slider-dots",prevArrow:'<div class="arrow arrow-left"><img class="slider-arrows slider-arrows__left" src="images/icons/arrow-left.svg" alt=""></img></div>',nextArrow:'<div class="arrow arrow-right"><img class="slider-arrows slider-arrows__right" src="images/icons/arrow-right.svg" alt=""></img></div>'}),$(".slider-dots").slick({slidesToShow:4,slidesToScroll:4,asNavFor:".header-slider",focusOnSelect:!0});let e=document.querySelectorAll(".header-slider__item");$(".header-slider").on("beforeChange",(function(t,a,n,s){let r=0;n<s?r=n+1:n>s&&(r=n-1);let i=e[r],o=i.querySelector(".header-slider__item-title"),l=i.querySelector(".header-slider__item-text"),c=i.querySelector(".header-btn");i&&(o.classList.add("animate__animated"),o.classList.add("animate__slideInDown"),l.classList.add("animate__animated"),l.classList.add("animate__fadeInUp"),l.classList.add("animate__delay-1s"),c.classList.add("animate__animated"),c.classList.add("animate__fadeInUp"),c.classList.add("animate__delay-1s"),o.addEventListener("animationend",()=>{o.classList.remove("animate__animated"),o.classList.remove("animate__slideInDown")}),l.addEventListener("animationend",()=>{l.classList.remove("animate__animated"),l.classList.remove("animate__fadeInUp"),l.classList.remove("animate__delay-1s")}),c.addEventListener("animationend",()=>{c.classList.remove("animate__animated"),c.classList.remove("animate__fadeInUp"),c.classList.remove("animate__delay-1s")}))})),$(".project__slider").slick({slidesToShow:5,slidesToScroll:3,arrows:!1,dots:!0,responsive:[{breakpoint:1150,settings:{slidesToShow:4,slidesToScroll:4,arrows:!1,dots:!0}},{breakpoint:800,settings:{slidesToShow:3,slidesToScroll:3,arrows:!1,dots:!0}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,dots:!0}}]}),$(".fancybox-media").fancybox({openEffect:"none",closeEffect:"none",helpers:{media:{}}})})),setInterval(()=>{let e=!1,t=document.querySelector(".contacts"),a=t.querySelector(".contacts__map-item--1").querySelector(".contacts__map-marker"),n=t.querySelector(".contacts__map-item--2").querySelector(".contacts__map-marker"),s=t.querySelector(".contacts__map-item--3").querySelector(".contacts__map-marker"),r=t.querySelector(".contacts__map-item--4").querySelector(".contacts__map-marker"),i=t.querySelector(".contacts__map-item--5").querySelector(".contacts__map-marker"),o=t.querySelector(".contact-form"),l=document.querySelector(".about-us"),c=l.querySelector(".about-us__images--1"),_=l.querySelector(".about-us__images--2"),d=document.querySelector(".work-step"),m=d.querySelector(".work-step__title"),u=d.querySelector(".work-step__inner"),y=document.querySelector(".offers"),p=y.querySelector(".offers__title"),f=y.querySelector(".offers__text"),S=y.querySelector(".offers__list"),v=document.querySelector(".advantages"),g=v.querySelector(".advantages__list-item--1"),q=v.querySelector(".advantages__list-item--2"),L=v.querySelector(".advantages__list-item--3"),w=v.querySelector(".advantages__list-item--4");function h(e,t){let a=e.getBoundingClientRect(),n=a.top-t,s=a.bottom,r=a.height-t;return n+r>=0&&r+window.innerHeight>=s}function I(e,t){return t.forEach(t=>{e.classList.add(""+t)}),e}function b(e){h(t,200)&&(I(a,["animate__animated","animate__fadeIn","animate__delay-1s","animate__slow"]),I(n,["animate__animated","animate__fadeIn","animate__delay-2s","animate__slow"]),I(s,["animate__animated","animate__fadeIn","animate__delay-3s","animate__slow"]),I(r,["animate__animated","animate__fadeIn","animate__delay-4s","animate__slow"]),I(i,["animate__animated","animate__fadeIn","animate__delay-5s","animate__slow"]),I(o,["animate__animated","animate__bounceInRight","animate__delay-3s"])),h(l,50)&&(I(c,["animate__animated","animate__fadeInUp"]),I(_,["animate__animated","animate__fadeInRight","animate__delay-1s"])),h(d,80)&&(I(m,["animate__animated","animate__fadeInLeft"]),I(u,["animate__animated","animate__bounceInUp","animate__delay-1s"])),h(y,80)&&(I(p,["animate__animated","animate__fadeInLeft"]),I(f,["animate__animated","animate__fadeInLeft"]),I(S,["animate__animated","animate__bounceInUp","animate__delay-1s"])),h(v,0)&&(I(g,["animate__animated","animate__fadeInLeftBig","animate__delay-3s"]),I(q,["animate__animated","animate__fadeInLeftBig","animate__delay-2s"]),I(L,["animate__animated","animate__fadeInLeftBig","animate__delay-1s"]),I(w,["animate__animated","animate__fadeInLeftBig"]))}window.addEventListener("scroll",(function(t){0==e&&window.requestAnimationFrame((function(){b(t),e=!1}));e=!0}),!1),document.addEventListener("DOMContentLoaded",b,!1);((e=100)=>{const t=document.querySelector(".price"),a=t.querySelector(".price__box"),n=t.querySelector(".prise__select"),s=t.querySelector(".price-square"),r=t.querySelector(".price-day"),i=t.querySelector(".price-count"),o=document.getElementById("total");(e=>{e.addEventListener("input",e=>{const t=e.target;"INPUT"===t.tagName&&(t.value=t.value.replace(/[^\+?0-9\.]/g,""))})})(a);a.addEventListener("change",t=>{const a=t.target;(a.matches("select")||a.matches("input"))&&(()=>{let t=0,a=1,l=1;const c=n.options[n.selectedIndex].value,_=+s.value;i.value>1&&(a+=(i.value-1)/10),r.value&&r.value<5?l*=2:r.value&&r.value<10&&(l*=1.5),c&&_&&(t=parseInt(e*c*_*a*l));const d=()=>{const e=+t,a=+o.textContent;let n=20;e>5e3&&e<3e4?n=50:e>=3e4&&e<1e5?n=200:e>=1e5&&(n=4e3),a<e?(o.textContent=a+n,setTimeout(d,1)):a>e+50?(o.textContent=a-n,setTimeout(d,1)):o.textContent=t};d()})()})})(100);(()=>{const e=document.querySelector(".menu"),t=document.querySelector(".menu__list"),a=document.querySelector(".header__burger"),n=e.querySelector("ul").querySelectorAll("a"),s=document.querySelector(".header__arrows-btn"),r=e=>{e.addEventListener("click",(function(n){n.preventDefault();const s=e.getAttribute("href");document.querySelector(""+s).scrollIntoView({behavior:"smooth",block:"start"}),t.classList.contains("menu__list--open")&&(t.classList.remove("menu__list--open"),a.classList.remove("header__burger--active"))}))};n.forEach(e=>{r(e)}),r(s)})();(()=>{const e=document.querySelector(".popup"),t=document.querySelectorAll(".offers-item__link"),a=document.querySelector(".popup-close");t.forEach(t=>{t.addEventListener("click",t=>{t.preventDefault(),e.style.display="block"})}),a.addEventListener("click",()=>{e.style.display="none"}),e.addEventListener("click",t=>{let a=t.target;a.classList.contains("popup-close")?e.style.display="none":(a=a.closest(".popup-content"),a||(e.style.display="none"))})})();let k=document.querySelector(".header__burger"),E=document.querySelector(".menu__list");k.addEventListener("click",()=>{k.classList.toggle("header__burger--active"),E.classList.toggle("menu__list--open")});const T=document.querySelectorAll("._form");console.log("hi");const x="images/icons/spinner.svg",A="Спасибо! Скоро мы с вами свяжемся",C="Что-то пошло не так...";T.forEach(e=>{var t;(t=e).addEventListener("submit",e=>{e.preventDefault();let a=document.createElement("img");a.src=x,a.style.cssText="\n         display: block;\n         margin: 0 auto;\n     ",t.insertAdjacentElement("afterend",a);const n=new XMLHttpRequest;n.open("POST","server.php"),n.setRequestHeader("Content-type","application/json; charset=utf-8");const s=new FormData(t),r={};s.forEach((function(e,t){r[t]=e}));const i=JSON.stringify(r);n.send(i),n.addEventListener("load",()=>{200===n.status?(console.log(n.response),alert(A),a.remove(),t.reset()):(alert(C),a.remove(),t.reset())})})});let D=document.querySelectorAll("input[type=tel]");new Inputmask("+7 (999) 999-99-99").mask(D)},2e3)});